# TIP 502: Index Value Reform
	Author:         Don Porter <dgp@users.sourceforge.net>
	State:          Draft
	Type:           Project
	Vote:           Pending
	Created:        26-Feb-2018
	Post-History:   
	Tcl-Version:	8.7
-----

# Abstract

Proposes reformed handling of Tcl index values.

# Background

Many Tcl programmers may be surprised by this result

	% lindex {a b} -4294967295
	b

This is the consequence of two features of incumbent Tcl
functionality. First, passing the value "-4294967295" to
_Tcl\_GetInt\(FromObj\)_ results in a successful extraction
of the C __int__ value __1__. Generally any supported formatting
of any value between __-UINT\_MAX__ and __UINT\_MAX__ is accepted,
but trasformed into a value between __INT\_MIN__ and __INT\_MAX__.
Second, the internal routine/macro _TclGetIntForIndex\(M\)_
encodes a definition of Tcl index values that any value acceptable
to _Tcl\_GetInt\(FromObj\)_ is also acceptable as an index of the
same value.

# Proposal

# Compatibility

# Implementation

Taking shape on the index-range-and-overflow branch.

# Copyright

This document has been placed in the public domain.

