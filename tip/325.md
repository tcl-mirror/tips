# TIP 325: System Tray and System Notification Access
	Author:		David N. Welton <davidw@dedasys.com>, Kevin Walzer <kw@codebykevin.com>
	State:		Draft
	Type:		Project
	Tcl-Version:	8.7
	Vote:		Pending
	Created:	25-Aug-2008
	Post-History:	
	Keywords:	Tk, desktop integration
-----

# Abstract

Modern operating systems have a "system tray", where programs may place an
icon to indicate program status. This TIP proposes that Tk should adopt some
existing code in order to permit cross platform access to this functionality. 
This TIP also proposes to implement system notification windows, which have become 
popular across all platforms.

# Existing code

 * Windows: winico

 * Linux: tktray

 * Mac: NSStatusItem

Existing code is sufficient, and utilizes an acceptable license in order to
repurpose it for a systray command. The sysnotify command will need to be a new implementation,
but the platform-specific API's are very straightfoward to develop this. 

# Interface for systray

 > **-systray create** _image_ _text_ _callback_

Create a new icon for the system tray with a Tk image, a string for display in a tooltip, and an optional callback. 

> **-systray modify** _option?_ 

Modify either the image, string, or callback.

> **-systray destroy** 

Deallocate the statustray icon and remove it from view.

# Interface for sysnotify

> **-sysnotify notify** _title_ _message_ 

Create and display a system notification with a brief title and longer body message.

# Example Code

systray:

	image create photo book -data R0lGODlhDwAPAKIAAP//////AP8AAMDAwICAgAAAAAAAAAAAACwAAAAADwAPAAADSQhA2u5ksPeKABKSCaya29d4WKgERFF0l1IMQCAKatvBJ0OTdzzXI1xMB3TBZAvATtB6NSLKleXi3OBoLqrVgc0yv+DVSEUuFxIAOw==

    systray create -image book -text "Systray sample" -callback {puts "Here is the systray output"}

systnotify:

	sysnotify notify "Alert" "This is just a test of the Tk System Notification Code."

# Implementation 

A draft implementation is currently under development in the tip_325 branch.

# Copyright

This document has been placed in the public domain.

