# TIP 487: Stop support for Windows XP and Windows CE 
	Author:         Jan Nijtmans <jan.nijtmans@gmail.com>
	State:          Draft
	Type:           Project
	Vote:           Pending
	Created:        20-Nov-2017
	Post-History:   
	Tcl-Version:    8.7
-----

# Abstract

Windows XP is end-of-life since 2014, april 8 (Windows XP enbedded since 2016, january 12).
Windows CE will be end-of-life in 2018, june 9 (See:
[here](http://rfsmart.com/blog/hardware-tip-operating-systems-end-of-life). This is
still about half a year away, but it seems counter-productive to support XP and CE
for a new minor Tcl release: It's unlikely that any Windows CE or XP user would like
to spend effort to upgrade Tcl from 8.6 to 8.7 on such a device. Tcl 8.6.8 and later
will continue to support Windows XP and CE, this TIP only proposes to stop support
for Tcl 8.7 and later.

# Proposed Change

Although the abstract says it all, at this moment there is only one function used
by Tcl which is only available on Vista and higher: This is `CancelSynchronousIo()`.
Therefore, it is not really necessary to do any checks at Tcl startup: If the
function `CancelSynchronousIo()` is not available in the OS, Tcl 8.7 will refuse to
startup anyway. The implementation merely drops the runtime-checks for the
availability of this function.

A "core-8-for-xp" branch will be created alongside "core-8-branch". Anyone (with
access rights, of course) can merge "core-8-branch" changes to "core-8-for-xp".
This branch will keep working on Windows XP, as long as people desire.

For Tk 8.7, the same will be done. There the Vista-specific function used is
`SHCreateItemFromParsingName()`.

# Implementation

An implementation of this TIP can be found in the [tip-487](https://core.tcl.tk/tcl/timeline?r=tip-487) branch.


# Copyright

This document has been placed in the public domain.
