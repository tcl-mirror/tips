# TIP 577: Export Tk_GetDoublePixelsFromObj and 4 more
	Author:         Jan Nijtmans <jan.nijtmans@gmail.com>
	State:          Draft
	Type:           Project
	Created:        14-July-2020
	Post-History:
	Keywords:       export
	Tk-Version:     8.7
	Tk-Branch:      tip-580
-----

# Abstract

Export 5 new functions from the public stub table.

# Rationale

Those exports are meant to be used by the revised_text widget. The reason this new text replacement widget
is currently integrated into Tk is because Tk doesn't export some symbols needed by revised_text. Those
5 additional exports allow revised_text - finally - to be compiled separate from Tk.

# Specification

The following 5 functions are exported through the public stub table:

  * `int Tk_AlwaysShowSelection(Tk_Window)`
  * `unsigned Tk_GetButtonMask(unsigned)`
  * `int Tk_GetDoublePixelsFromObj(Tcl_Interp *, Tk_Windows, Tcl_Obj *, double *)`
  * `Tcl_Obj *Tk_NewWindowObj(Tk_Windows)`
  * `void Tk_SendVirtualEvent(Tk_Windows, const char *, Tcl_Obj *)`

They are currently available from `tkInt.h` as (`MODULE_SCOPE`) functions: `TkpAlwaysShowSelection`,
`TkGetButtonMask`, `Tk_GetDoublePixelsFromObj`, `TkNewWindowObj`, `TkSendVirtualEvent`.

# Compatibility

This is 100% upwards compatible.

# Implementation

See the [`strict-index`](https://core.tcl-lang.org/tk/timeline?r=tip-580) branch.

# Copyright

This document has been placed in the public domain.
